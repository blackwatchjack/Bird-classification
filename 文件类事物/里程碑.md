# 项目里程碑 (Milestones)

## 阶段 1：后端数据引擎与 API 开发 `(完成度 100% ✓)`
- ✅ 任务 1.1：完善 IOCDataLoader，将 Excel 数据转化为适配 el-tree 的嵌套 JSON 结构
- ✅ 任务 1.2：实现 FastAPI 接口，暴露 /api/scan、/api/status、/api/tree、/api/image-proxy 和 /api/locate
- ✅ 任务 1.3：集成文件扫描器，支持递归目录扫描
- ✅ 任务 1.4：修复数据转换器错误，解决 TaxonNode 属性缺失问题
- ✅ 任务 1.5：完善依赖管理，完成 requirements.txt
- ✅ 任务 1.6：实现跨平台文件定位功能（Windows/macOS/Linux）

## 阶段 2：Element Plus 前端骨架搭建 `(完成度 100% ✓)`
- ✅ 任务 2.1：安装并配置 Element Plus 组件库
- ✅ 任务 2.2：实现响应式布局，左侧 el-tree-v2 分类树 + 中央照片展示区 + 右侧详情面板
- ✅ 任务 2.3：对接后端 API，实现分类树数据加载和展示
- ✅ 任务 2.4：实现照片缩略图展示功能
- ✅ 任务 2.5：实现树节点搜索过滤功能
- ✅ 任务 2.6：实现扫描进度条和状态监控

## 阶段 3：前后端联调与功能闭环 `(完成度 100% ✓)`
- ✅ 任务 3.1：对接 /api/scan 接口，实现扫描任务启动和状态监控
- ✅ 任务 3.2：实现分类树交互功能（展开/折叠/选择）
- ✅ 任务 3.3：点击分类节点展示对应照片列表
- ✅ 任务 3.4：实现图片预览和文件地址导航功能
- ✅ 任务 3.5：添加扫描进度条和统计信息
- ✅ 任务 3.6：实现照片详情面板展示
- ✅ 任务 3.7：实现跨平台文件定位功能（在资源管理器中定位）

## 阶段 4：优化与交付 `(完成度 60% 🔄)`
- ✅ 任务 4.1：性能测试，验证 10 万张照片下系统稳定性
- ✅ 任务 4.2：优化匹配算法，提升文件名匹配效率
- ⏳ 任务 4.3：实现照片快速检索功能
- ✅ 任务 4.4：Electron 基础配置，准备桌面应用封装
- ✅ 任务 4.5：整体 UI/UX 优化和用户体验测试
- ✅ 任务 4.6：实现跨平台文件定位功能
- ✅ 任务 4.7：实现图片缩略图生成和缓存机制

## 当前重点工作
核心功能已基本完成，建议优先推进以下工作：
1. 实现高级检索功能
2. 完成 Electron 桌面应用完整封装
3. 前端 Element Plus 组件库集成和业务功能实现
4. 前后端联调测试

## 项目技术栈

### 后端
- **框架**：FastAPI 0.104.1
- **数据模型**：Python dataclass
- **文件处理**：os, subprocess, platform
- **CORS**：fastapi.middleware.cors
- **数据处理**：pandas 2.2.0, openpyxl 3.1.2
- **类型注解**：pydantic 2.5.0, typeguard 4.1.5
- **Web 服务器**：uvicorn 0.24.0
- **图片处理**：Pillow (用于缩略图生成)

### 前端
- **框架**：Vue 3.5.24
- **构建工具**：Vite 7.2.4
- **UI 组件库**：Element Plus 2.13.0
- **HTTP 客户端**：Axios 1.13.2
- **图标库**：@element-plus/icons-vue 2.3.2
- **语言**：JavaScript

### 数据源
- **鸟类分类标准**：Multiling IOC World Bird List v15.1
- **数据格式**：Excel (.xlsx)

## 已实现的核心功能

1. **权威数据库集成**
   - 内嵌 Multiling IOC 15.1 数据
   - 支持目、科、属、种四级分类
   - 自动解析中文名和拉丁学名

2. **虚拟分类树**
   - 左侧展示完整的鸟类分类树
   - 节点显示格式：中文名 拉丁名 (匹配张数)
   - 支持树节点搜索过滤

3. **智能文件匹配**
   - 双重匹配：中文名和拉丁学名
   - 支持多种图片格式：jpg, jpeg, png, raw, arw, cr2, nef
   - 递归扫描指定目录

4. **照片索引与展示**
   - 缩略图网格展示（带缓存机制）
   - 点击查看照片详情
   - 显示文件名和物理路径

5. **一键定位功能**
   - 跨平台支持（Windows/macOS/Linux）
   - 在资源管理器中打开并选中文件

6. **扫描状态监控**
   - 实时显示扫描进度
   - 显示已扫描和匹配的文件数量
   - 扫描超时处理机制

7. **性能优化**
   - 缩略图缓存机制，提升图片加载速度
   - 后台扫描任务，避免界面卡顿
   - 高效的文件名匹配算法

8. **用户体验**
   - 响应式布局，适配不同屏幕尺寸
   - 加载动画和错误处理
   - 清晰的操作反馈和状态提示
